import testing

import yang
import yang.schema
import yang_one
import yang_foo

def _test_prsrc_yang_one_roundtrip():
    modules_1 = yang.compile_modules(yang_one.src_yang())
    modules_2 = yang_one.src_schema()
    for m1 in modules_1:
        m2 = modules_2[m1.name]
        # Compare the Module objects for equality using the Eq extension (generated)
        testing.assertEqual(m1, m2)
        # Compare the output of prsrc() to ensure we can do it again
        testing.assertEqual(m1.prsrc(), m2.prsrc())

def _test_prsrc_yang_foo_roundtrip():
    modules_1 = yang.compile_modules(yang_foo.src_yang())
    modules_2 = yang_foo.src_schema()
    for m1 in modules_1:
        m2 = modules_2[m1.name]
        # Compare the Module objects for equality using the Eq extension (generated)
        testing.assertEqual(m1, m2)
        # Compare the output of prsrc() to ensure we can do it again
        testing.assertEqual(m1.prsrc(), m2.prsrc())
